<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dog Food Study</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Dog Food Study</h1>
        <script>
            // Dog data
            const dogs = [{
                weight: 22,
                currentFood: 250,
                owners: ['Alice', 'Bob']
            }, {
                weight: 8,
                currentFood: 100,
                owners: ['Sarah', 'John']
            }, {
                weight: 13,
                currentFood: 200,
                owners: ['Michael']
            }, {
                weight: 32,
                currentFood: 350,
                owners: ['Julia']
            }, {
                weight: 7,
                currentFood: 120,
                owners: ['Kate']
            }];

            // 1. Calculate the recommended food portion and add it to each dog object
            dogs.forEach(dog => {
                dog.recommendedFood = dog.weight ** 0.75 * 28;
            });

            // 2. Find Sarah's dog and check if it's eating too much or too little
            const sarahDog = dogs.find(dog => dog.owners.includes('Sarah'));
            if (sarahDog) {
                const {
                    recommendedFood,
                    currentFood
                } = sarahDog;
                const eatingTooMuch = currentFood > recommendedFood * 1.1;
                const eatingTooLittle = currentFood < recommendedFood * 0.9;
                console.log(`Sarah's dog is eating ${eatingTooMuch ? 'too much' : eatingTooLittle ? 'too little' : 'an okay amount'}.`);
            }

            // 3. Create arrays for owners of dogs eating too much and too little
            const ownersEatTooMuch = dogs
                .filter(dog => dog.currentFood > dog.recommendedFood * 1.1)
                .flatMap(dog => dog.owners);

            const ownersEatTooLittle = dogs
                .filter(dog => dog.currentFood < dog.recommendedFood * 0.9)
                .flatMap(dog => dog.owners);

            // 4. Log strings for owners of dogs eating too much and too little
            console.log(`${ownersEatTooMuch.join(' and ')}'s dogs eat too much!`);
            console.log(`${ownersEatTooLittle.join(' and ')}'s dogs eat too little!`);

            // 5. Check if any dog is eating exactly the recommended amount
            const anyDogEatingExactlyRecommended = dogs.some(dog =>
                dog.currentFood === dog.recommendedFood
            );
            console.log(`Is any dog eating exactly the recommended amount? ${anyDogEatingExactlyRecommended}`);

            // 6. Check if any dog is eating an okay amount of food
            const anyDogEatingOkayAmount = dogs.some(dog =>
                dog.currentFood > dog.recommendedFood * 0.9 && dog.currentFood < dog.recommendedFood * 1.1
            );
            console.log(`Is any dog eating an okay amount of food? ${anyDogEatingOkayAmount}`);

            // 7. Create an array of dogs eating an okay amount of food
            const dogsEatingOkayAmount = dogs.filter(dog =>
                dog.currentFood > dog.recommendedFood * 0.9 && dog.currentFood < dog.recommendedFood * 1.1
            );

            console.log('Dogs eating an okay amount of food:', dogsEatingOkayAmount);

            // 8. Create a shallow copy of dogs array and sort by recommended food portion
            const sortedDogs = [...dogs].sort((a, b) => a.recommendedFood - b.recommendedFood);
            console.log('Sorted dogs by recommended food portion:', sortedDogs);
        </script>
    </div>
</body>

</html>